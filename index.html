<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Bloom College - Student Registration Form</title>

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

  <style>
    body {
      background: linear-gradient(135deg, #e3f2fd, #bbdefb);
      font-family: "Poppins", sans-serif;
      padding: 40px 12px;
    }

    .form-card {
      max-width: 900px;
      margin: 0 auto;
      background: #fff;
      border-radius: 10px;
      box-shadow: 0 10px 20px rgba(0,0,0,0.1);
      padding: 30px;
      animation: fadeIn 1s ease-in-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .title {
      text-align: center;
      margin-bottom: 18px;
    }
    .title h2 {
      font-weight: 700;
      color: #0d47a1;
    }
    .subtitle {
      text-align: center;
      color: #546e7a;
      font-size: 0.95rem;
      margin-bottom: 18px;
    }

    .field-label {
      font-weight: 600;
      color: #374151;
    }

    .image-preview {
      width: 90px;
      height: 90px;
      border: 2px dashed #90caf9;
      border-radius: 6px;
      display:flex;
      align-items:center;
      justify-content:center;
      background: #f1f8ff;
      overflow: hidden;
      transition: 0.3s;
    }
    .image-preview:hover {
      border-color: #42a5f5;
      transform: scale(1.02);
    }
    .image-preview img {
      max-width:100%;
      max-height:100%;
      object-fit:cover;
    }

    .address-title {
      text-align:center;
      margin: 18px 0 8px;
      font-weight:700;
      color:#0d47a1;
    }

    /* Buttons */
    .btn-register {
      min-width:120px;
      background: linear-gradient(90deg, #43a047, #66bb6a);
      color:#fff;
      border:none;
      transition: 0.3s;
    }
    .btn-register:hover {
      background: linear-gradient(90deg, #2e7d32, #43a047);
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(46,125,50,0.3);
    }
    .btn-register:active {
      transform: scale(0.95);
      background: #1b5e20;
    }

    .btn-reset {
      min-width:120px;
      background: linear-gradient(90deg, #ef5350, #e57373);
      color:#fff;
      border:none;
      transition: 0.3s;
    }
    .btn-reset:hover {
      background: linear-gradient(90deg, #d32f2f, #ef5350);
      transform: scale(1.05);
      box-shadow: 0 4px 8px rgba(211,47,47,0.3);
    }

    .helper {
      font-size: 0.85rem;
      color: #607d8b;
    }

    /* Custom popup (for success + error) */
    .popup {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      display: none;
      background: rgba(0, 0, 0, 0.4);
      justify-content: center;
      align-items: center;
      z-index: 1055;
      animation: fadeInPopup 0.4s ease forwards;
    }

    .popup-content {
      background: #ffffff;
      padding: 30px 40px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 8px 16px rgba(0,0,0,0.2);
      transform: scale(0.8);
      animation: popupScale 0.4s ease forwards;
    }

    .popup-success h4 { color: #2e7d32; }
    .popup-error h4 { color: #d32f2f; }

    @keyframes fadeInPopup {
      from {opacity: 0;}
      to {opacity: 1;}
    }

    @keyframes popupScale {
      from {transform: scale(0.8);}
      to {transform: scale(1);}
    }
  </style>
</head>
<body>

  <div class="form-card">
    <div class="title">
      <h2>BLOOM COLLEGE</h2>
    </div>
    <div class="subtitle">Student Registration Form</div>

    <form id="regForm" novalidate>
      <div class="row align-items-center mb-3">
        <div class="col-auto pe-0">
          <label class="field-label d-block mb-1">Student image:</label>
          <div class="d-flex gap-2 align-items-center">
            <div class="image-preview" id="imgPreview">
              <span class="helper">No image</span>
            </div>
            <div>
              <input class="form-control form-control-sm" type="file" id="studentImage" accept="image/*">
              <div class="helper mt-1">(less than 5 Mb)</div>
            </div>
          </div>
        </div>
      </div>

      <div class="row g-2 mb-2">
        <div class="col-12">
          <label class="field-label">Student Name</label>
          <input required type="text" id="studentName" class="form-control" placeholder="Full name"
                 onchange="toUpperCaseField(this)">
        </div>

        <div class="col-12">
          <label class="field-label">Father's Name</label>
          <input required type="text" id="fatherName" class="form-control" placeholder="Father's full name"
                 onchange="toUpperCaseField(this)">
        </div>

        <div class="col-12">
          <label class="field-label">Mother's Name</label>
          <input required type="text" id="motherName" class="form-control" placeholder="Mother's full name"
                 onchange="toUpperCaseField(this)">
        </div>
      </div>

      <div class="row gy-2 mb-2">
        <div class="col-md-3">
          <label class="field-label d-block">Gender</label>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="male" value="male" checked>
            <label class="form-check-label" for="male">Male</label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="radio" name="gender" id="female" value="female">
            <label class="form-check-label" for="female">Female</label>
          </div>
        </div>

        <div class="col-md-3">
          <label class="field-label">Date of Birth</label>
          <input type="date" id="dob" class="form-control" onblur="dobOnBlur()">
        </div>

        <div class="col-md-6">
          <label class="field-label">E-mail</label>
          <input required type="email" id="email" class="form-control" placeholder="email@xyz.com"
                 onfocus="emailOnFocus()" onblur="emailOnBlur()">
          <div id="emailHelper" class="helper" style="display:none;">We will contact you via this email.</div>
        </div>
      </div>

      <div class="row gy-2 mb-2">
        <div class="col-md-3">
          <label class="field-label">Level</label>
          <select class="form-select" id="level">
            <option>Phd</option>
            <option>Masters</option>
            <option>Bachelor</option>
            <option>Diploma</option>
          </select>
        </div>

        <div class="col-md-5">
          <label class="field-label">Department</label>
          <select class="form-select" id="dept">
            <option>Computer Engineering</option>
            <option>Information Systems</option>
            <option>Mechanical</option>
            <option>Business</option>
          </select>
        </div>

        <div class="col-md-4">
          <label class="field-label">Tel/Mobile</label>
          <input type="tel" id="mobile" class="form-control" placeholder="0X-XXX-XXXX" onblur="mobileOnBlur(this)">
          <div id="mobileHelp" class="helper"></div>
        </div>
      </div>

      <hr>

      <div class="address-title">Address</div>

      <div class="row g-2 mb-3">
        <div class="col-md-4">
          <label class="field-label">State</label>
          <input type="text" id="state" class="form-control" placeholder="State">
        </div>

        <div class="col-md-4">
          <label class="field-label">City</label>
          <input type="text" id="city" class="form-control" placeholder="City">
        </div>

        <div class="col-md-4">
          <label class="field-label">Postcode</label>
          <input type="text" id="postcode" class="form-control" placeholder="Postcode">
        </div>
      </div>

      <div class="d-flex justify-content-center gap-3 mt-3">
        <button type="submit" class="btn btn-register">Register</button>
        <button type="reset" class="btn btn-reset">Reset</button>
      </div>
    </form>
  </div>

  <!-- Success Popup -->
  <div id="popupSuccess" class="popup">
    <div class="popup-content popup-success">
      <h4>üéâ Registration Successful!</h4>
      <p>Your student details have been saved successfully.</p>
      <button class="btn btn-success mt-2 closeBtn">OK</button>
    </div>
  </div>

  <!-- Error Popup -->
  <div id="popupError" class="popup">
    <div class="popup-content popup-error">
      <h4>‚ö†Ô∏è Please fill in all required fields correctly!</h4>
      <p>Check missing or invalid information and try again.</p>
      <button class="btn btn-danger mt-2 closeBtn">Close</button>
    </div>
  </div>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

  <script>
    document.getElementById('studentImage').addEventListener('change', function(e){
      const preview = document.getElementById('imgPreview');
      preview.innerHTML = '';
      const file = e.target.files[0];
      if (!file) {
        preview.innerHTML = '<span class="helper">No image</span>';
        return;
      }
      if (file.size > 5*1024*1024) {
        preview.innerHTML = '<span class="helper text-danger">File too large</span>';
        return;
      }
      const img = document.createElement('img');
      img.src = URL.createObjectURL(file);
      preview.appendChild(img);
    });

    function toUpperCaseField(el){ el.value = el.value.toUpperCase(); }

    function emailOnFocus(){ document.getElementById('emailHelper').style.display = 'block'; }
    function emailOnBlur(){ setTimeout(()=>document.getElementById('emailHelper').style.display='none', 800); }

    function dobOnBlur(){
      const dob=document.getElementById('dob');
      if(!dob.value)return;
      const d=new Date(dob.value),t=new Date();
      if(d>t){ dob.classList.add('is-invalid'); } else { dob.classList.remove('is-invalid'); }
    }

    function mobileOnBlur(input){
      const txt=input.value||'';
      const digits=txt.replace(/\D/g,'');
      const help=document.getElementById('mobileHelp');
      if(!digits){help.textContent='';return;}
      if(digits.length>=9 && digits.length<=11){
        const p1=digits.slice(0,2),p2=digits.slice(2,5),p3=digits.slice(5);
        input.value=`${p1}-${p2}-${p3}`;
        help.textContent='';
      }else{help.textContent='Please enter 9‚Äì11 digits.';}
    }

    const form=document.getElementById('regForm');
    const popupSuccess=document.getElementById('popupSuccess');
    const popupError=document.getElementById('popupError');

    form.addEventListener('submit',function(e){
      e.preventDefault();
      if(!form.checkValidity()){
        popupError.style.display='flex';
        return;
      }
      popupSuccess.style.display='flex';
    });

    document.querySelectorAll('.closeBtn').forEach(btn=>{
      btn.addEventListener('click',()=>{
        popupSuccess.style.display='none';
        popupError.style.display='none';
        form.reset();
        document.getElementById('imgPreview').innerHTML='<span class="helper">No image</span>';
        document.getElementById('emailHelper').style.display='none';
        document.getElementById('mobileHelp').textContent='';
        form.classList.remove('was-validated');
      });
    });
  </script>
</body>
</html>
